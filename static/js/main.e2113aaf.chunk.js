(this.webpackJsonpempha_soft=this.webpackJsonpempha_soft||[]).push([[0],{18:function(e,t,n){e.exports=n(29)},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(15),r=n.n(o),l=n(7),s=n(1),u=(n(23),n(9));var i=function(){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){window.location.href="https://oauth.vk.com/authorize?client_id=7557493&display=page&redirect_uri=https://juliaju93.github.io/&response_type=token&scope=friends&"}}," \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f "))};var m=function(){var e=Object(a.useState)(!!localStorage.getItem("authToken")),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.hash).get("#access_token");e&&(localStorage.setItem("authToken",e),o(!0))}),[]),c.a.createElement("div",null,n&&c.a.createElement(s.a,{to:"/"}),c.a.createElement(i,null))},h=n(17),f=function(e){var t=e.component,n=Object(h.a)(e,["component"]);return new URLSearchParams(window.location.hash).get("#access_token")&&localStorage.setItem("authToken",new URLSearchParams(window.location.hash).get("#access_token")),c.a.createElement(s.b,Object.assign({},n,{render:function(e){return localStorage.getItem("authToken")?c.a.createElement(t,e):c.a.createElement(s.a,{to:"/login"})}}))};function p(e){return fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))}var E=function(){localStorage.setItem("authToken",new URLSearchParams(window.location.hash).get("#access_token"));var e,t=Object(a.useState)(null),n=Object(u.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)([]),i=Object(u.a)(l,2),m=i[0],h=i[1],f=localStorage.getItem("authToken");return new URLSearchParams(window.location.hash).get("#access_token")&&(localStorage.setItem("authToken",new URLSearchParams(window.location.hash).get("#access_token")),e=!0),Object(a.useEffect)((function(){p("https://api.vk.com/method/users.get?access_token=".concat(f,"&v=5.122")).then((function(e){r(e.response[0])})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",e)})),p("https://api.vk.com/method/friends.get?count=5&fields=nickname&fields=photo_100&access_token=".concat(f,"&v=5.122")).then((function(e){h(e.response.items)})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439",e)}))}),[f]),c.a.createElement("div",null,e&&c.a.createElement(s.a,{to:"/login"}),o&&c.a.createElement("h1",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",o.last_name," ",o.first_name),c.a.createElement("h2",null," \u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439:"),c.a.createElement("ul",null,function(){if(m.length)return m.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("img",{src:e.photo_100,alt:e.last_name}),c.a.createElement("span",null,e.first_name," ",e.last_name))}))}()))};function d(){return c.a.createElement(l.a,null,c.a.createElement("main",null,c.a.createElement(s.d,null,c.a.createElement(f,{exact:!0,path:"/",component:E})),c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/login"},c.a.createElement(m,null)))))}r.a.render(c.a.createElement(d,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e2113aaf.chunk.js.map