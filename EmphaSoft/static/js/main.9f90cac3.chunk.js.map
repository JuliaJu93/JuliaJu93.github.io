{"version":3,"sources":["pages/login/components/register_button/register_button.js","pages/login/components/register_button/index.js","pages/login/login.js","pages/login/index.js","pages/home/components/private_route/index.js","pages/home/components/private_route/private_route.js","pages/home/components/call_API/call_API.js","pages/home/home.js","pages/home/index.js","index.js"],"names":["RegisterButton","onClick","url","process","window","location","href","Login","useState","setLogin","useEffect","token","URLSearchParams","hash","get","localStorage","setItem","getItem","to","PrivateRoute","Component","component","rest","render","props","callAPI","fetch","method","then","response","json","data","Home","user","setUser","friends","setFriends","catch","error","alert","items","last_name","first_name","length","map","friend","key","id","src","photo_100","alt","getFriendsComponents","Main","exact","path","ReactDOM","document","getElementById"],"mappings":"2OAoBeA,IClBAA,EDAf,WAWC,OACC,6BACC,4BAAQC,QAZV,WACC,IAAIC,EAAM,kCACVA,GAAO,qBACPA,GAAO,gBACPA,GAAG,kDAA+CC,aAA/C,UACHD,GAAO,uBACPA,GAAO,iBACPE,OAAOC,SAASC,KAAOJ,IAKtB,4FEWYK,ICxBAA,EDGf,WAAkB,IAAD,EACUC,oBAAS,GADnB,mBACFC,GADE,WAahB,OAVAC,qBAAU,WACT,IAAMC,EAAQ,IAAIC,gBAAgBR,OAAOC,SAASQ,MAAMC,IACvD,iBAEGH,IACHI,aAAaC,QAAQ,YAAaL,GAClCF,GAAS,OAKV,6BACEM,aAAaE,QAAQ,cAAgB,kBAAC,IAAD,CAAUC,GAAE,UAAOf,aAAP,OAClD,kBAAC,EAAD,Q,QEnBYgB,ECCM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,6BAC3D,OACC,kBAAC,IAAD,iBACKA,EADL,CAECC,OAAQ,SAACC,GAAD,OACPT,aAAaE,QAAQ,aACpB,kBAACG,EAAcI,GAEf,kBAAC,IAAD,CAAUN,GAAE,UAAKf,aAAL,iBCXjB,SAASsB,EAAQvB,GAChB,OAAOwB,MAAMxB,EAAK,CACjByB,OAAQ,QAEPC,MAAK,SAACC,GACN,OAAOA,EAASC,UAEhBF,MAAK,SAACG,GACN,OAAOA,KC8CKC,ICpDAA,EDCf,WAAiB,IAAD,EACSxB,mBAAS,MADlB,mBACRyB,EADQ,KACFC,EADE,OAEe1B,mBAAS,IAFxB,mBAER2B,EAFQ,KAECC,EAFD,KAGTzB,EAAQI,aAAaE,QAAQ,aAmCnC,OApBAP,qBAAU,WACTe,EAAQ,oDAAD,OAAqDd,EAArD,aACLiB,MAAK,SAACG,GACNG,EAAQH,EAAKF,SAAS,OAEtBQ,OAAM,SAACC,GAAD,OACNC,MAAM,qQAAoDD,MAG5Db,EAAQ,+FAAD,OACyFd,EADzF,aAGLiB,MAAK,SAACG,GACNK,EAAWL,EAAKF,SAASW,UAEzBH,OAAM,SAACC,GAAD,OACNC,MAAM,iOAA8CD,QAEpD,IAGF,6BACEL,GACA,yGACgBA,EAAKQ,UADrB,IACiCR,EAAKS,YAGvC,2GACA,4BAzCF,WACC,GAAIP,EAAQQ,OACX,OAAOR,EAAQS,KAAI,SAACC,GAAD,OAClB,wBAAIC,IAAKD,EAAOE,IACf,yBAAKC,IAAKH,EAAOI,UAAWC,IAAKL,EAAOJ,YACxC,8BACEI,EAAOH,WADT,IACsBG,EAAOJ,eAmC1BU,MEvCR,SAASC,IACR,OACC,kBAAC,IAAD,KACC,8BACC,kBAAC,IAAD,KACC,kBAAC,EAAD,CAAcC,OAAK,EAACC,KAAI,UAAOnD,aAAP,KAAkCkB,UAAWW,KAEtE,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOqB,OAAK,EAACC,KAAI,UAAOnD,aAAP,WAChB,kBAAC,EAAD,UAQNoD,IAAShC,OAAO,kBAAC6B,EAAD,MAAUI,SAASC,eAAe,W","file":"static/js/main.9f90cac3.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\n\nfunction RegisterButton() {\n\tfunction getToken() {\n\t\tlet url = 'https://oauth.vk.com/authorize?';\n\t\turl += 'client_id=7557493&';\n\t\turl += 'display=page&';\n\t\turl += `redirect_uri=https://juliaju93.github.io${process.env.PUBLIC_URL}/login`;\n\t\turl += 'response_type=token&';\n\t\turl += 'scope=friends&';\n\t\twindow.location.href = url;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<button onClick={getToken}> Авторизоваться </button>\n\t\t</div>\n\t);\n}\n\nexport default RegisterButton;\n","import RegisterButton from './register_button';\n\nexport default RegisterButton;\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport RegisterButton from './components/register_button';\n\nfunction Login() {\n\tconst [login, setLogin] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst token = new URLSearchParams(window.location.hash).get(\n\t\t\t'#access_token'\n\t\t);\n\t\tif (token) {\n\t\t\tlocalStorage.setItem('authToken', token);\n\t\t\tsetLogin(true);\n\t\t}\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t{localStorage.getItem('authToken') && <Redirect to = {`${process.env.PUBLIC_URL}/`} />}\n\t\t\t<RegisterButton />\n\t\t</div>\n\t);\n}\n\nexport default Login;\n","import Login from './login';\n\nexport default Login;\n","import PrivateRoute from './private_route';\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={(props) =>\n\t\t\t\tlocalStorage.getItem('authToken') ? (\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={`${process.env.PUBLIC_URL}/login`} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default PrivateRoute;\n","function callAPI(url) {\n\treturn fetch(url, {\n\t\tmethod: 'GET',\n\t})\n\t\t.then((response) => {\n\t\t\treturn response.json();\n\t\t})\n\t\t.then((data) => {\n\t\t\treturn data;\n\t\t});\n}\n\nexport { callAPI };\n","import React, { useState, useEffect } from 'react';\r\nimport { callAPI } from './components/call_API/call_API';\r\n\r\nfunction Home() {\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [friends, setFriends] = useState([]);\r\n\tconst token = localStorage.getItem('authToken');\r\n\r\n\tfunction getFriendsComponents() {\r\n\t\tif (friends.length) {\r\n\t\t\treturn friends.map((friend) => (\r\n\t\t\t\t<li key={friend.id}>\r\n\t\t\t\t\t<img src={friend.photo_100} alt={friend.last_name} />\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{friend.first_name} {friend.last_name}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t));\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcallAPI(`https://api.vk.com/method/users.get?access_token=${token}&v=5.122`)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetUser(data.response[0]);\r\n\t\t\t})\r\n\t\t\t.catch((error) =>\r\n\t\t\t\talert('Ошибка: не удалось загрузить данные пользователя', error)\r\n\t\t\t);\r\n\r\n\t\tcallAPI(\r\n\t\t\t`https://api.vk.com/method/friends.get?count=5&fields=nickname&fields=photo_100&access_token=${token}&v=5.122`\r\n\t\t)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetFriends(data.response.items);\r\n\t\t\t})\r\n\t\t\t.catch((error) =>\r\n\t\t\t\talert('Ошибка: не удалось загрузить список друзей', error)\r\n\t\t\t);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{user && (\r\n\t\t\t\t<h1>\r\n\t\t\t\t\tПользователь: {user.last_name} {user.first_name}\r\n\t\t\t\t</h1>\r\n\t\t\t)}\r\n\t\t\t<h2> Список друзей:</h2>\r\n\t\t\t<ul>{getFriendsComponents()}</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;\r\n","import Home from './home';\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport './index.css';\n\nimport Login from './pages/login';\nimport PrivateRoute from './pages/home/components/private_route';\nimport Home from './pages/home';\n\nfunction Main() {\n\treturn (\n\t\t<Router>\n\t\t\t<main>\n\t\t\t\t<Switch>\n\t\t\t\t\t<PrivateRoute exact path = {`${process.env.PUBLIC_URL}/`} component={Home} />\n\t\t\t\t</Switch>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path = {`${process.env.PUBLIC_URL}/login`}>\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</Router>\n\t);\n}\n\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}